@model IEnumerable<Ivysoft.OnlineSystem.Data.Models.Customer>

@section styles 
{
    @Styles.Render("~/Content/datatable")
}

@{
    ViewBag.Title = "Customers";
}

@*<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.User.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CompanyName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ContactName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ContactTitle)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Country)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Fax)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Phone)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PostalCode)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Region)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsDeleted)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DeletedOn)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CreatedOn)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ModifiedOn)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.User.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Address)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.City)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CompanyName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ContactName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ContactTitle)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Country)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Fax)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Phone)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PostalCode)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Region)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsDeleted)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DeletedOn)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CreatedOn)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ModifiedOn)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.CustomerId }) |
            @Html.ActionLink("Details", "Details", new { id=item.CustomerId }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.CustomerId })
        </td>
    </tr>
}

</table>*@

<div class="row" style="margin-top: 50px">
    <div class="col-md-10">
        <table id="table_id" class="table table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th> Record&nbsp;# </th>
                    <th> Contact Name </th>
                    <th> Address </th>
                    <th> City </th>
                    <th> Phone </th>
                </tr>
                @*<tr role="row">
                        <td rowspan="1" colspan="1" class="no-sort">
                            <input type="text" class="form-control form-filter input-sm" name="order_id">
                        </td>
                        <td rowspan="1" colspan="1" class="no-sort">
                            <div id="fromD" class="input-group date" style="margin-bottom: 5px">
                                <input type="text" class="form-control input-sm" placeholder="From">
                                <span class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </span>
                            </div>
                            <div id="toD" class="input-group date">
                                <input type="text" class="form-control input-sm" placeholder="To">
                                <span class="input-group-addon">
                                    <i class="fa fa-calendar"></i>
                                </span>
                            </div>
                        </td>
                        <td rowspan="1" colspan="1" class="no-sort">
                            <div class="margin-bottom-5" style="margin-bottom: 5px">
                                <input type="text" class="form-control form-filter input-sm" name="order_price_from" placeholder="From">
                            </div>
                            <input type="text" class="form-control form-filter input-sm" name="order_price_to" placeholder="To">
                        </td>
                        <td rowspan="1" colspan="1" class="no-sort">
                            <select name="order_status" class="form-control form-filter input-sm">
                                <option value="">Select...</option>
                                <option value="pending">Pending</option>
                                <option value="closed">Closed</option>
                                <option value="hold">On Hold</option>
                                <option value="fraud">Fraud</option>
                            </select>
                        </td>
                    </tr>*@
            </thead>

            @*<tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.CustomerId</td>
                            <td>@item.ContactName</td>
                            <td>@item.Address</td>
                            <td>@item.City</td>
                            <td>@item.Phone</td>
                        </tr>
                    }
                </tbody>*@
        </table>
    </div>
</div>

@section scripts 
{
  @Scripts.Render("~/bundles/datatable")
}

<script>
    $(document).ready(function () {
        $('#table_id').DataTable(
            {
                "processing": true,
                "serverSide": true,
                "ajax": {
                    "url": "customers/GetAll",
                    "type": "POST"
                }
                //},
                //    columnDefs: [
                //    //{ targets: [0, 1], visible: true },
                //        { targets: '_all', visible: true }
                //]
                //"bSortCellsTop": true

                //"order": [ ],
                //"columnDefs": [{
                //    "targets": 'no-sort',
                //    "orderable": false,
                //}]

            }
            //{
            //    responsive: true,
            //rowReorder: true
            //}
        );

        //table
        //    .columns()
        //    .search()
        //    .draw();
        //$('#datetimepicker').datetimepicker(
        ////    {
        ////    format: 'yyyy-mm-dd hh:ii'
        ////}
        //);

        //$('#datepicker').datetimepicker({

        //});
        //$('#fromD').datepicker({
        //    autoclose: true,
        //    todayHighlight: true
        //});
        //$('#toD').datepicker({
        //    autoclose: true,
        //    todayHighlight: true
        //});
        //$('#datepicker').datepicker({
        //    autoclose: true,
        //    todayHighlight: true
        //});
    });
</script>